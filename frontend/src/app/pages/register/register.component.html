<div class="auth-wrapper">
  <div class="auth-container">
    <app-auth-card title="Register">
      
      <p *ngIf="errorMessage" class="error-message">{{ errorMessage }}</p>

      <form (submit)="onRegister(); $event.preventDefault()">
        <!-- Username -->
        <mat-form-field appearance="outline" class="input-field">
          <mat-label>Username</mat-label>
          <mat-icon matPrefix>person</mat-icon>
          <input matInput type="text" [(ngModel)]="user.username" name="username" required>
        </mat-form-field>

        <!-- Email -->
        <mat-form-field appearance="outline" class="input-field">
          <mat-label>Email</mat-label>
          <mat-icon matPrefix>email</mat-icon>
          <input matInput type="email" [(ngModel)]="user.email" name="email" (ngModelChange)="validateEmail()" required>
        </mat-form-field>
        <p *ngIf="emailError" class="error-message">{{ emailError }}</p>

        <!-- Password -->
        <mat-form-field appearance="outline" class="input-field">
          <mat-label>Password</mat-label>
          <mat-icon matPrefix>lock</mat-icon>
          <input matInput type="password" [(ngModel)]="user.password" name="password" (ngModelChange)="validatePassword()" required>
        </mat-form-field>
        <p *ngIf="passwordError" class="error-message">{{ passwordError }}</p>

        <!-- Phone -->
        <mat-form-field appearance="outline" class="input-field">
          <mat-label>Phone</mat-label>
          <mat-icon matPrefix>phone</mat-icon>
          <input matInput type="tel" [(ngModel)]="user.phone" name="phone" required>
        </mat-form-field>

        <app-auth-button 
          [text]="'Register'"
          [isLoading]="isLoading">
        </app-auth-button>

        <p>Already have an account? <a routerLink="/login">Login</a></p>
      </form>

    </app-auth-card>
  </div>
</div>
